#!/bin/sh
#
# This is what I use on my FreeBSD system to run curn.
# ---------------------------------------------------------------------------

: ${JAVA_ROOT:=/usr/local/java}
JAVA_HOME=$JAVA_ROOT/jdk

UNPKG_JAVA_CLASS_DIR=$JAVA_ROOT/classes
PKG_JAVA_CLASS_DIR=/usr/local/share/java/classes

vm_opts=
while [ $# -gt 0 ]
do
    case "$1" in
        -D*|-X*)
            vm_opts="$vm_opts $1"
	    shift
	    ;;
        *)
	    break
	    ;;
    esac
done

exec $JAVA_HOME/bin/java \
-ea \
-client \
$vm_opts \
-classpath \
$UNPKG_JAVA_CLASS_DIR/ocutil.jar:\
$UNPKG_JAVA_CLASS_DIR/informa.jar:\
$UNPKG_JAVA_CLASS_DIR/rome.jar:\
$PKG_JAVA_CLASS_DIR/commons-logging.jar:\
$PKG_JAVA_CLASS_DIR/jdom.jar:\
$PKG_JAVA_CLASS_DIR/xerces.jar:\
$UNPKG_JAVA_CLASS_DIR/jakarta-oro.jar:\
$PKG_JAVA_CLASS_DIR/activation.jar:\
$PKG_JAVA_CLASS_DIR/mail.jar:\
$UNPKG_JAVA_CLASS_DIR/bsf.jar:\
$UNPKG_JAVA_CLASS_DIR/xmlc-all-runtime.jar:\
$UNPKG_JAVA_CLASS_DIR/xml-apis.jar:\
$UNPKG_JAVA_CLASS_DIR/jtidy.jar:\
$UNPKG_JAVA_CLASS_DIR/curn.jar \
org.clapper.curn.Tool "${@}"
